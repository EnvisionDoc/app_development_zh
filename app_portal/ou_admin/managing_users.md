# 管理用户

OU管理员可对组织内的用户进行如下管理操作：

- 添加用户：将已在系统中创建账号的用户添加到当前企业/组织；为还未创建账号的用户新建账号，并将其添加进企业/组织
- 批量导入用户：使用Excel文件批量导入用户
- 移除用户：将已有用户从企业/组织移除
- 为用户分配角色；移除用户的角色
- 为用户分配组织结构；将用户从组织结构移除
- 为用户分配用户组；将用户从用户组移除

## 前提条件

OU管理员已在管理后台新建组织结构、角色、和用户组。

## 添加用户

通过以下步骤为企业/组织添加用户：

1. 进入管理后台，在左侧菜单栏中选择 **用户**，打开用户列表。

2. 点击 **添加用户** 按钮，输入用户邮箱搜索用户。若系统中该邮箱已存在账号，则可直接选择该用户，将用户添加进企业/组织。

   .. image:: ../media/user_1.png
      :width: 300px

3. 若用户账号不存在，则可点击 **新建用户**，创建账号。

   .. image:: ../media/user_2.png
      :width: 300px

4. 编辑账号名（默认为邮箱前缀），然后点击 **提交**。提交后，账号将不能被修改。

   .. image:: ../media/user_3.png
      :width: 300px

创建完成后，用户将收到通知邮件，且邮件里有设置密码的链接。

### 批量导入用户

通过以下步骤为企业/组织批量导入用户：

1. 在用户列表页面，点击 **批量导入** 按钮。

2. 点击 **下载模板**，按照模板文件中的说明信息，编辑批量导入的用户信息。

3. 上传编辑好的模板文件，并查看导入用户的结果。如果导入失败，点击 **下载导入失败记录**，修改文件后再上传。

   .. image:: ../media/importing_user.png

### 移除用户

通过以下步骤将已有用户移出企业/组织：

1. 在用户列表中，找到待移除的用户。

2. 点击用户列表最右边的 **从本企业/组织移除** 图标，并点击 **确认**。

   .. image:: ../media/user_4.png
      :width: 300px

确认移除后，该用户将不属于本企业/组织。

## 为用户分配角色

通过以下步骤为现有用户分配角色：

1. 在用户列表中，找到待管理的用户，点击用户列表右侧的 **管理** 图标。

2. 在 **用户详情** 页面，点击 **编辑** 按钮，可编辑用户姓名和手机号；点击 **重置密码** 按钮并确认，系统将发送重置密码邮件给用户。

   .. image:: ../media/user_5.png
      :width: 300px

3. 点击 **分配角色** 按钮，选择为用户分配的角色（可多选）。用户被赋予角色后，将被授予该角色拥有的权限。

   .. image:: ../media/user_6.png

### 移除用户角色

通过以下步骤移除用户的角色：

1. 在已分配角色列表中，找到待移除的角色。

2. 点击 **移除角色** 图标，并确认。

   .. image:: ../media/user_7.png
      :width: 300px

移除角色后，用户将不再获得该角色相关权限。如果需要，可以重新为该用户分配该角色。

## 为用户分配组织结构

通过以下步骤为现有用户分配组织结构：

1. 在 **用户详情** 页面，点击 **分配组织结构** 按钮。

2. 在弹窗中，选择为用户分配的组织结构（可多选，选择了父节点，下级节点不能被勾选，但默认具有下级节点的权限），然后点击 **确认**。

   .. image:: ../media/user_8.png

用户加入组织结构后，将同时被赋予组织结构相应的资产查看权限。

### 将用户从组织结构移除

通过以下步骤将用户从组织移除：

1. 在所属组织结构列表中，找到待移除的组织结构。

2. 点击 **从本企业/组织移除** 图标，并确认。

   .. image:: ../media/user_9.png
      :width: 300px

从企业/组织移除后，用户将不再获得该组织结构相关权限。如需要，可以重新为该用户重新分配该组织结构。

## 为用户分配用户组

通过以下步骤将现有用户加入用户组：

1. 在 **用户详情** 页面，点击 **分配用户组** 按钮。

2. 在弹窗中，选择为用户分配的用户组（可多选），然后点击 **确认**。

   .. image:: ../media/user_10.png

用户加入用户组后，将同时被赋予用户组相应的资产查看权限

### 将用户从用户组移除

通过以下步骤将用户从用户组移除：

1. 在所属用户组列表中，找到待移除的用户组。

2. 点击 **从用户组移除** 图标，并确认。

   .. image:: ../media/user_11.png
      :width: 300px

移除后，用户将不再获得用户组相关权限。如需要，可以重新为该用户重新加入该用户组。
