# 开发和配置应用

企业或组织基于EnOS开发或购买的应用会被自动同步到Application Portal。为使应用与Application Portal相匹配，应用开发者需要对应用做相应的配置。

## 注册应用

应用开发者需要在EnOS控制台注册应用，并配置应用的菜单和权限。第三方开发者还需要管理来自其他OU的应用购买申请。具体步骤如下：

1. 登录EnOS控制台，从左侧导航栏中选择 **应用注册**，点击 **创建应用**，提供应用的基本信息完成应用注册。

2. 点击已注册的应用，在 **应用详情** 页面上的 **菜单管理** 标签下，点击 **新建菜单**，提供菜单的详细信息完成应用一级菜单和二级菜单的注册，配置菜单URL，调整菜单显示顺序。

   .. image:: ../media/adding_menus.png

3. 在 **应用详情** 页面上的 **权限点管理** 标签下，点击 **新建权限点**，提供权限点的详细信息完成应用权限的注册。

4. （第三方开发者）开发者收到应用购买申请后，在 **应用详情** 页面上的 **审批列表** 标签下，查看和审批客户的购买申请，授权客户可访问的菜单和拥有的权限。在 **客户管理** 标签下，管理已有客户使用应用的权限。

有关应用注册的详细信息，参考 [注册和管理应用](../../app_management/managing_apps)。

## 配置资产授权

完成应用注册或购买应用后，应用开发者需要为应用配置资产访问权限。具体步骤如下：

1. 登录EnOS控制台，从左侧导航栏中选择 **身份与权限 > 服务账号**。

2. 在应用列表中，点击 **操作** 一栏中的 **授权** 图标。

   .. image:: ../media/sa_authentication.png

3. 在 **授权** 页面，点击 **添加权限策略**，根据应用和业务的实际需求，选择预定义的或自定义的权限策略。一般需选择预定义的资产树和设备管理权限。

   .. image:: ../media/selecting_auth.png

4. 点击 **保存**，完成应用的资产授权配置。

## 开发应用

在EnOS控制台完成应用注册和资产授权后，应用开发者可通过以下步骤进行应用开发和配置：

1. 安装 ENOS-APP-PORTAL 前端SDK进行应用开发（下载地址和使用介绍：[https://www.npmjs.com/package/enos-app-portal-sdk](https://www.npmjs.com/package/enos-app-portal-sdk)）。
2. 使用 ENOS-APP-PORTAL 定制登录页SDK定制应用登录页面（下载地址和使用介绍：https://www.npmjs.com/package/enos-app-portal-login）。
3. 调用APP Portal服务接口（产生消息与更新消息接口），开启将应用消息推送到Application Portal的功能，用户登录Application Portal后，即可使用消息中心功能。有关产生消息与更新消息接口的详细信息，参考 **EnOS控制台 > API管理 > 公开API > app-portal-service** 中的API文档。
4. 完成应用开发后，将应用发布上线。获取应用菜单的URL，并在 **应用详情** 页面上的 **菜单管理** 标签下，更新应用菜单的URL。

<!-- end -->
