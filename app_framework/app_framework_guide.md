# 操作指南
本文通过系统管理员、组织管理员、和用户的角色，介绍如何使用EnOS应用框架管理应用的内外部用户账号、应用资源定义、和访问资源权限分配等。

##  系统管理员
系统管理员一般为EnOS平台管理员，或大型组织内指定的超级管理员。系统管理员负责如下操作：

- 创建公司或组织
- 注册公有应用
- 定义应用权限
- 为公司分配公有应用
- 创建组织管理员账号

### 创建公司

在应用框架内，通过定义公司和组织，可以更好地管理应用的用户和相应的权限。系统管理员可通过以下步骤，注册公司信息。

1. 使用预先定义的系统管理员账号，登录应用框架，进入系统管理页面。

2. 在页面左侧任务栏，点击 **公司管理**。

3. 点击 **+公司** 按钮，在 **新建公司** 弹窗内，输入公司名、详细地址、和公司描述。

4. 点击 **保存**，完成公司信息注册。

注册完成之后，所有已注册的公司信息会显示在公司管理页面的表格中。在该表格中，可以更新公司状态、编辑公司信息、管理为公司分配的应用，如下图所示。

.. image:: image/company_zh.png
   :width: 750px

### 注册公有应用

平台内的公有应用，根据公司或组织需求，可授权给平台用户使用。系统管理员可通过以下步骤，在框架内注册公有应用。

1. 在系统管理页面左侧任务栏，点击 **应用管理**。

2. 点击 **+应用** 按钮，在 **新应用** 弹窗内，输入应用名、应用链接、应用描述，选择背景颜色和应用图标。

3. 点击 **保存**，完成公有应用注册。

注册完成之后，所有已注册的公有应用和组织私有应用信息会显示在应用管理页面的表格中。在该表格中，可以更新应用状态、编辑应用信息、定义应用权限，如下图所示。

.. image:: image/public_app_zh.png
   :width: 750px

### 定义应用权限

应用权限是EnOS系统将应用资源定义为应用的访问控制权限，方便将不同的资源授予给不同的用户使用。系统管理员可通过以下步骤，定义应用权限。

1. 在系统管理页面左侧任务栏，点击 **应用管理**。

2. 在应用列表中，点击选定应用的 **权限** 图标，打开应用权限管理页面。

3. 点击 **+权限** 按钮，在 **新权限** 弹窗内，输入权限名称、权限ID（必须在web SDK中预先定义）、权限描述，选择权限类型。目前支持如下权限类型：

   - 菜单：菜单类型的应用资源，如下拉菜单、任务栏
   - UI视图：应用页面上的视图资源，如按钮、视频
   - 数据：应用的数据资源，如报表

4. 点击 **保存**，完成权限定义。

5. 重复以上操作，定义更多的应用权限。

应用权限定义完成之后，所有已定义的权限信息会显示在权限管理页面的表格中。在该表格中，可以编辑或删除已定义的权限，如下图所示。

.. image:: image/app_permission_zh.png
   :width: 750px

### 为公司分配公有应用

平台内的公有应用可按公司需求，分配给公司用户使用。系统管理员可通过以下步骤，为公司分配公有应用。

1. 在系统管理页面左侧任务栏，点击 **公司管理**。

2. 在公司列表中，点击选定公司的 **权限** 图标，打开公有应用列表。

3. 勾选赋予该公司的公有应用。

4. 点击 **保存**，完成应用分配。如下图所示。

   .. image:: image/assign_app_zh.png
      :width: 750px

为公司分配的公有应用将会被列入公司的 **应用管理** 页面表格中。公司的组织管理员可将分配的公有应用权限开放给用户。

### 创建组织管理员账号

公司或组织内的应用和权限管理，都需要专有的组织管理员。系统管理员可通过以下步骤，为公司或组织创建组织管理员账号。

1. 在系统管理页面左侧任务栏，点击 **OU管理员**。
2. 点击 **+添加** 按钮，在 **新公司管理员** 弹窗内，输入用户名、邮箱地址，选择组织管理员所属组织。
3. 点击 **保存**，完成组织管理员账号创建。
4. 在组织管理员账号表格中，点击 **重置** 图标，为创建的账号生成初始密码。

账号创建完成之后，所有已创建的组织管理员账号信息会显示在账号管理页面的表格中。在该表格中，可以编辑或删除账号，或者重置账号密码，如下图所示。

.. image:: image/create_ouadmin_zh.png
   :width: 750px

##  组织管理员

组织管理员为单个组织内的应用管理员。组织管理员使用系统管理员提供的账号和密码，登录系统之后，负责如下操作：

- 注册私有应用
- 定义应用权限
- 创建用户账号
- 管理用户权限
- 管理应用分组

### 注册私有应用

私有应用是组织内部自行开发的应用，可供内部用户或者外部用户使用。组织管理员可通过以下步骤注册私有应用。

1. 使用组织管理员账号，登录应用框架，进入系统管理页面。

2. 在系统管理页面左侧任务栏，点击 **应用管理**。

3. 点击 **+应用** 按钮，在 **新应用** 弹窗内，输入应用名、应用链接、应用描述，选择背景颜色和应用图标。

4. 点击 **保存**，完成私有应用注册。

注册完成之后，所有已注册的私有应用和分配给组织的公有应用信息会显示在应用管理页面的表格中。在该表格中，可以更新私有应用的状态、编辑应用信息、定义应用权限，如下图所示。

.. image:: image/private_app_zh.png
   :width: 750px

### 定义应用权限

组织管理员可为私有应用定义权限。具体步骤与系统管理员为公有应用定义权限的步骤相同。

### 创建用户账号

为了实现内部和外部用户同时使用应用，需要创建不同类型的用户账号。组织管理员可通过以下步骤，为应用创建用户账号。

1. 在系统管理页面左侧任务栏，点击 **用户管理**。

2. 点击 **+用户** 按钮，在 **新用户** 弹窗内，输入用户名、邮箱地址，选择用户类型（内部用户或外部用户）。

3. 点击 **保存**，完成用户账号创建。

4. 在用户账号表格中，点击 **重置** 图标，为创建的用户账号生成初始密码。

用户账号创建完成之后，所有已创建的用户账号信息会显示在账号管理页面的表格中。在该表格中，可以编辑或删除账号，重置账号密码，或者管理用户的应用权限。如下图所示。

.. image:: image/create_user_zh.png
   :width: 750px

### 管理用户权限

用户账号创建完成之后，即可授权和管理用户访问应用的权限，具体步骤如下。

1. 在系统管理页面左侧任务栏，点击 **用户管理**，打开账号管理页面。

2. 在选定用户的信息栏中，点击授权图标，打开用户权限管理页面。

3. 依次点击需要授权的应用分组和应用名，展开应用权限列表。

4. 选择需要授权给用户的应用权限。

5. 点击 **保存**，完成应用权限授权。如下图所示：

   .. image:: image/user_permission_zh.png
      :width: 750px

如需为指定用户设置与组织管理员相似的平台管理权限，可在上图所示的账号管理页面，点击Settings Group。然后选择授权给用户的管理权限，包括用户管理、应用管理、和桌面配置权限。

为用户授权应用权限之后，用户登录平台，点击应用图标，即可访问经授权之后的应用和资源。

### 管理应用分组

当组织拥有多个应用时，为方便管理应用，可将应用进行分组管理。具体步骤如下。

1. 在系统管理页面左侧任务栏，点击 **桌面配置**，打开应用分组管理页面。

2. 点击 **+添加** 按钮，在 **添加应用组** 弹窗内，输入应用分组名称，勾选需要加入该分组的应用。

3. 点击 **确定**，完成创建应用分组。

.. note:: 一个应用只能归属于一个分组。

应用被分组之后，当用户登录系统之后，即可按照分组查看应用。

## 用户

用户是应用的实际使用者。在使用组织管理员分配的账号登录系统之后，用户可在桌面查看经授权的应用。打开应用之后，访问经授权的资源。如下图所示。

.. image:: image/user_view.png
   :width: 750px

<!--end-->
